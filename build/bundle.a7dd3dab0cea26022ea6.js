(()=>{"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,c=function(){};return{s:c,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n,r,a,c,l,o,s,i,d,u;s=document.querySelector(".navbar"),i=document.querySelector(".header-nav .main-menu"),d=document.querySelector(".navbar-nav"),u=i.cloneNode(!0),d.append(u),document.addEventListener("click",(function(e){var t;(e.target.closest(".iconBurger")||e.target.closest(".navbar"))&&(t=e.target,s.classList.contains("is-open")?(t.matches("a")||t.closest("svg"))&&s.classList.remove("is-open"):s.classList.add("is-open"))})),document.querySelectorAll(".scroll-menu").forEach((function(e){e.querySelectorAll("a").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=document.querySelector(e.getAttribute("href"));n&&seamless.scrollIntoView(n,{behavior:"smooth",block:"start",inline:"center"})}))}))})),o=function(e){var t,n,r,a,c=document.querySelector(".gallery");if(window.innerWidth>576){var l,o,s,i,d,u;c.classList.add("desktop");for(var m=0;m<e.length;m++)switch(m){case 0:(l=document.createElement("div")).classList.add("wrapper-gallery"),c.append(l),(i=document.createElement("div")).classList.add("wrapper-big-img"),i.classList.add("left"),i.classList.add("gallery-elem"),i.classList.add("first-third"),l.append(i),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),i.append(u);break;case 1:(s=document.createElement("div")).classList.add("wrapper-small-gallery"),l.append(s),(d=document.createElement("div")).classList.add("wrapper-img"),d.classList.add("gallery-elem"),d.classList.add("first-third"),s.append(d),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),d.append(u);break;case 2:(d=document.createElement("div")).classList.add("wrapper-img"),d.classList.add("gallery-elem"),d.classList.add("first-third"),s.append(d),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),d.append(u);break;case 3:case 9:case 12:(o=document.createElement("div")).classList.add("horizontal-small-gallery"),c.append(o),(d=document.createElement("div")).classList.add("wrapper-img"),d.classList.add("gallery-elem"),o.append(d),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),d.append(u);break;case 4:case 5:case 10:case 11:case 13:case 14:(d=document.createElement("div")).classList.add("wrapper-img"),d.classList.add("gallery-elem"),o.append(d),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),d.append(u);break;case 6:(l=document.createElement("div")).classList.add("wrapper-gallery"),c.append(l),(s=document.createElement("div")).classList.add("wrapper-small-gallery"),l.append(s),(d=document.createElement("div")).classList.add("wrapper-img"),d.classList.add("gallery-elem"),s.append(d),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),d.append(u);break;case 7:(d=document.createElement("div")).classList.add("wrapper-img"),d.classList.add("gallery-elem"),s.append(d),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),d.append(u);break;case 8:(i=document.createElement("div")).classList.add("wrapper-big-img"),i.classList.add("right"),i.classList.add("gallery-elem"),l.append(i),(u=document.createElement("img")).src="db/".concat(e[m].src),u.alt="db/".concat(e[m].alt),i.append(u)}}else{c.classList.add("mob-our-gallery");for(var p=0;p<e.length;p++){var f=document.createElement("div");f.classList.add("mob-gallery-item");var y=document.createElement("img");y.src="db/".concat(e[p].src),f.append(y),c.append(f)}}t=Array.from(document.querySelectorAll(".our-work .gallery-elem")),n=document.querySelector("#more-gallery-btn"),r=document.querySelector("#reset-gallery-btn"),a=0,t.slice(3).forEach((function(e){e.style.display="none",e.parentNode.style.display="none"})),a+=3,n.addEventListener("click",(function(){t.slice(a,a+3).forEach((function(e){e.style.display="flex",e.parentNode.style.display="flex"})),(a+=3)>=t.length&&(n.style.display="none",r.style.display="flex")})),r.addEventListener("click",(function(){n.style.display="flex",r.style.display="none",document.querySelectorAll(".our-work .gallery-elem:not(.first-third)").forEach((function(e){e.style.display="none",e.parentNode.style.display="none"})),a=3}))},fetch("https://green-garden-12786-default-rtdb.firebaseio.com/db.json").then((function(e){return e.json()})).then((function(e){for(var t in e[0])o(e[0][t])})),l=function(e){var t=document.querySelector("#tasks .cards");e.forEach((function(e){var n=document.createElement("div");n.classList.add("card-wrapper"),n.innerHTML='\n       <div class="img-card">\n          <img src="db/'.concat(e.img,'" alt="').concat(e.alt,'">\n        </div>\n        <div class="wrapper-card-titles">\n          <div class="card-titles">\n            <p>').concat(e.title,"</p>\n            <p>").concat(e.subtitle,"</p>\n        </div>\n      "),t.append(n)})),window.innerWidth>576&&(function(){for(var e=document.querySelectorAll("#tasks .card-wrapper"),t=0;t<e.length;t++)if(window.innerWidth>1299){if(2===t||5===t||8===t||11===t||14===t||17===t)continue;e[t].style.marginRight="48px"}else if(window.innerWidth>1191&&window.innerWidth<1300){if(2===t||5===t||8===t||11===t)continue;e[t].style.marginRight="30px"}else if(window.innerWidth>1171&&window.innerWidth<1192){if(2===t||5===t||8===t||11===t)continue;e[t].style.marginRight="20px"}else if(window.innerWidth>992&&window.innerWidth<1172){if(1===t||3===t||5===t||7===t||9===t||11===t)continue;e[t].style.marginRight="20px"}else if(window.innerWidth>576&&window.innerWidth<993){if(1===t||3===t||5===t||7===t||9===t||11===t)continue;e[t].style.marginRight="20px"}}(),function(){var e=Array.from(document.querySelectorAll("#tasks .card-wrapper")),t=document.querySelector("#show-btn"),n=document.querySelector("#reset-btn"),r=0;e.slice(6).forEach((function(e){e.style.display="none"})),r+=6,t.addEventListener("click",(function(){e.slice(r,r+6).forEach((function(e){e.style.display="flex"})),(r+=6)>=e.length&&(t.style.display="none",n.style.display="flex")})),n.addEventListener("click",(function(){t.style.display="flex",n.style.display="none",document.querySelectorAll("#tasks .card-wrapper:nth-child(n+7)").forEach((function(e){e.style.display="none"})),r=6}))}())},fetch("https://green-garden-12786-default-rtdb.firebaseio.com/db.json").then((function(e){return e.json()})).then((function(e){for(var t in e[1])return l(e[1][t])})),r=function(e){if(e.value=e.value.replace(/\s*/gim,""),/^[а-яё]+$/i.test(e.value)){e.classList.remove("invalid"),e.classList.add("valid"),document.getElementById("error-name").style.display="none",document.getElementById("error-name").textContent="";var t=e.value.toLowerCase();return e.value=t.replace(/(^[а-яё])/,(function(e){return e.toUpperCase()})),!0}return e.classList.remove("valid"),e.classList.add("invalid"),document.getElementById("error-name").style.display="block",""!==e.value?document.getElementById("error-name").textContent="Допускается только кириллица":document.getElementById("error-name").textContent="Заполните обязательное поле",!1},a=function(e){return e.value=e.value.replace(/\s*/gim,""),/^((8|\+7)[\s-]?)?(\(?\d{3}\)?[\s-]?)(\d{3}[\s-]?)(\d{2}[\s-]?)\d{2}$/.test(e.value)?(e.classList.remove("invalid"),e.classList.add("valid"),document.getElementById("error-phone").textContent="",document.getElementById("error-phone").style.display="none",!0):(e.classList.remove("valid"),e.classList.add("invalid"),document.getElementById("error-phone").style.display="block",""!==e.value?document.getElementById("error-phone").textContent="Недопустимый формат":document.getElementById("error-phone").textContent="Заполните обязательное поле",!1)},c=function(e){return e.checked?(document.getElementById("error-checked").style.display="none",document.getElementById("error-checked").textContent="",!0):(document.getElementById("error-checked").textContent="Согласитесь с условиями",document.getElementById("error-checked").style.display="block",!1)},function(t){var n,l=document.getElementById("feedback-form"),o=[],s=document.createElement("div"),i=e(l.elements);try{for(i.s();!(n=i.n()).done;){var d=n.value;"button"!==d.tagName.toLowerCase()&&"button"!==d.type&&o.push(d)}}catch(e){i.e(e)}finally{i.f()}o.forEach((function(e){e.addEventListener("blur",(function(e){"user-name"===e.target.name&&r(e.target),"phone"===e.target.name&&a(e.target)})),e.addEventListener("change",(function(e){"checkbox"===e.target.type&&c(e.target)}))})),l.addEventListener("submit",(function(t){var n,i,d;t.preventDefault();var u,m=e(o);try{for(m.s();!(u=m.n()).done;){var p=u.value;"user-name"===p.name&&(n=r(p),console.log("nameValid: ",n)),"phone"===p.name&&(i=a(p),console.log("phoneValid: ",i)),"checkbox"===p.type&&(d=c(p))}}catch(e){m.e(e)}finally{m.f()}if(n&&i&&d){l.parentNode.append(s),s.style.cssText="\n           color: #fff;\n           font-size: 16px;\n           margin: 20px auto 0 auto;\n         ",s.textContent="Загрузка...";var f=new FormData(l),y={};f.forEach((function(e,t){y[e]=t})),function(e){return fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(y).then((function(e){if(200!==e.status)throw new Error("status network is not 200");s.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(e){s.textContent="Что-то пошло не так...",console.error(e)}))}else s.textContent=""}))}(),n=function(e){var t=document.querySelector("#reviews .reviews-block");e.forEach((function(e){var n=document.createElement("div");n.classList.add("reviews-content"),n.innerHTML='\n        <div class="bg-div"></div>\n        <img class="reviews-img" src="db/'.concat(e.img.src,'" alt="').concat(e.img.alt,'">\n        <div class="review-wrapper">\n          <div class="content-wrapper">\n            <div class="header-wrapper">\n              <div class="avatar-wrapper">\n                <img src="db/').concat(e.review.img.src,'" alt="').concat(e.review.img.alt,'">\n              </div>\n              <p>').concat(e.review.title,'</p>\n              <a href="').concat(e.review.link,'">\n                <svg class="icon-VK">\n                  <use xlink:href="icons/icons.svg#iconVK"></use>\n                </svg>\n              </a>\n            </div>\n            <p>').concat(e.review.content,"</p>\n          </div>\n        </div>\n     "),t.append(n)})),function(){var e=Array.from(document.querySelectorAll("#reviews .reviews-content")),t=document.querySelector("#show-reviews-btn"),n=document.querySelector("#reset-reviews-btn"),r=0,a=document.querySelectorAll("#reviews .reviews-content:nth-child(even)"),c=document.querySelectorAll("#reviews .reviews-content:nth-child(odd)");a.forEach((function(e){e.classList.add("right")})),c.forEach((function(e){e.classList.add("left")})),e.slice(2).forEach((function(e){e.style.display="none"})),r+=2,t.addEventListener("click",(function(){e.slice(r,r+2).forEach((function(e){e.style.display="flex"})),(r+=2)>=e.length&&(t.style.display="none",n.style.display="flex")})),n.addEventListener("click",(function(){t.style.display="flex",n.style.display="none",document.querySelectorAll(".reviews .reviews-content:nth-child(n+3)").forEach((function(e){e.style.display="none"})),r=2}))}()},fetch("https://green-garden-12786-default-rtdb.firebaseio.com/db.json").then((function(e){return e.json()})).then((function(e){for(var t in e[2])n(e[2][t])}))})();